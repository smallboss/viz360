!function(e){function _(_){for(var a,o,i=_[0],l=_[1],c=_[2],u=0,E=[];u<i.length;u++)o=i[u],r[o]&&E.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(s&&s(_);E.length;)E.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,_=0;_<n.length;_++){for(var t=n[_],a=!0,i=1;i<t.length;i++){var l=t[i];0!==r[l]&&(a=!1)}a&&(n.splice(_--,1),e=o(o.s=t[0]))}return e}var a={},r={0:0},n=[];function o(_){if(a[_])return a[_].exports;var t=a[_]={i:_,l:!1,exports:{}};return e[_].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,_,t){o.o(e,_)||Object.defineProperty(e,_,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,_){if(1&_&&(e=o(e)),8&_)return e;if(4&_&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&_&&"string"!=typeof e)for(var a in e)o.d(t,a,function(_){return e[_]}.bind(null,a));return t},o.n=function(e){var _=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(_,"a",_),_},o.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=_,i=i.slice();for(var c=0;c<i.length;c++)_(i[c]);var s=l;n.push([142,1]),t()}({10:function(e,_,t){"use strict";(function(e){var a=t(112),r=t.n(a);!function(){var _=t(6).enterModule;_&&_(e)}();var n=r()({USER_LOGIN:null,USER_LOGOUT:null,INIT_MODEL_LIST:null,DELETE_MODEL:null,INIT_CURR_MODEL:null,CLEAR_CURR_MODEL:null,SET_CURR_MODEL_NAME:null,ADD_ACTIVE_TAG:null,CLEAR_ACTIVE_TAGS:null,TOGGLE_ACTIVE_TAG:null,ADD_TAG_CURR_MODEL:null,REMOVE_TAG_CURR_MODEL:null});_.a=n,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(n,"default","D:\\Projects\\viz360\\app\\redux\\constants\\actionTypes.js"),a(e))}()}).call(this,t(20)(e))},110:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(139),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29),redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23),react_dropzone__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(138),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7__),_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(118),_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8__),_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(119),_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_9__),_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(46),_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10__),_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(120),_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_11__),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(38),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(22),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__),_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(33),_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14__),_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(115),_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_15__),_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(117),_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_16__),_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(116),_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_17__),_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(121),_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_18__),_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(39),_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_19__),_material_ui_icons_Done__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(114),_material_ui_icons_Done__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_material_ui_icons_Done__WEBPACK_IMPORTED_MODULE_20__),_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(76),_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_21__),_config_config_json__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(8),_config_config_json__WEBPACK_IMPORTED_MODULE_22___namespace=__webpack_require__.t(8,1),_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(10),_assets_js_utils__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(32);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var _=0,t=new Array(e.length);_<e.length;_++)t[_]=e[_];return t}}function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var a=_[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?_assertThisInitialized(e):_}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&_setPrototypeOf(e,_)}function _setPrototypeOf(e,_){return(_setPrototypeOf=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}!function(){var e=__webpack_require__(6).enterModule;e&&e(module)}();var styles=function(e){return{button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},noTextDecor:{textDecoration:"none"},root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},chip:{margin:4,padding:"5px 0",height:23},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},modelName:{marginTop:0,marginBottom:10},w100p:{marginLeft:0,marginRight:0,width:"100%"},uploadModalTitle:{paddingBottom:15},btnUploadModel:{margin:"20px auto -7px",display:"flex"}}},ModelList=function(_React$Component){function ModelList(e){var _;return _classCallCheck(this,ModelList),(_=_possibleConstructorReturn(this,_getPrototypeOf(ModelList).call(this,e))).state={isModalOpen:!1,uploadModelName:"",tagNewModel:"",tagsNewModel:[]},_.props.initModelList(),_.uploadModelFiles=[],_.loaderFBX=new THREE.FBXLoader,_.loaderOBJ=new THREE.OBJLoader,_}return _inherits(ModelList,_React$Component),_createClass(ModelList,[{key:"onCopyLink",value:function(e){var _="".concat(location.origin,"/").concat(e);_assets_js_utils__WEBPACK_IMPORTED_MODULE_24__.a(_)}},{key:"handleClickOpen",value:function(){this.setState({isModalOpen:!0})}},{key:"handleClose",value:function(){this.setState({isModalOpen:!1})}},{key:"uploadModel",value:function(){var e=this,_=new Blob([this.uploadModelFiles[0]],{type:"octet/stream"}),t={name:this.state.uploadModelName,url:window.URL.createObjectURL(_),tags:this.state.tagsNewModel};this.converModeltToJSON(t.url,this.uploadModelFiles[0].name,function(_){return e.uploadModelJSON(_)})}},{key:"uploadModelJSON",value:function(e){var _=JSON.stringify(e),t=new Blob([_],{type:"octet/stream"}),a={name:this.state.uploadModelName,url:window.URL.createObjectURL(t),tags:this.state.tagsNewModel};this.props.initCurrModel(a),this.props.history.push("/admin_panel/".concat(a.name))}},{key:"converModeltToJSON",value:function(e,_,t){var a=this;console.log("modelFileUrl",e),_.toLowerCase().includes(".obj")?this.loaderOBJ.load(e,function(e){t(a.firstTuningModel(e).toJSON())},function(e){console.log("progress",e)},function(e){console.log("error",e)}):this.loaderFBX.load(e,function(e){t(a.firstTuningModel(e).toJSON())},function(e){console.log("progress",e)},function(e){console.log("error",e)})}},{key:"firstTuningModel",value:function(e){var _=new THREE.Object3D;_.name="Wrap Rotate",_.rotateX(-Math.PI/2),_.updateMatrix();var t=new THREE.Group;t.name="Model3D",t.userData.bg=16185078,t.add(_),e.name="MeshList";var a=(new THREE.Box3).setFromObject(e);a.min.distanceTo(a.max);e.traverse(function(e){e.material&&(e.material.length?e.material.forEach(function(e){return e.side=THREE.DoubleSide}):e.material.side=THREE.DoubleSide),e.geometry}),_.add(e);var r=new THREE.AmbientLight(16777215,.6);r.name="AmbientLight",t.add(r);var n=new THREE.PointLight(16777215,1.4,300);return n.name="PointLight",n.position.set(50,120,100),n.updateMatrix(),t.add(n),t}},{key:"onDrop",value:function(e){var _=this;this.uploadModelFiles=[],this.wrapFileNames.innerText="";e.forEach(function(e){(e.name.toLowerCase().includes(".fbx")||e.name.toLowerCase().includes(".obj"))&&(_.wrapFileNames.innerText=e.name,_.uploadModelFiles.push(e))}),this.forceUpdate()}},{key:"getTagList",value:function(){var e=[];return this.props.modelList.forEach(function(_){_.tags.forEach(function(_){e.includes(_)||e.push(_)})}),e}},{key:"activeModelList",value:function(){var e=this,_=[];return this.props.activeTags.length?(this.props.modelList.forEach(function(t){for(var a=0;a<e.props.activeTags.length;a++){var r=e.props.activeTags[a];if(t.tags.includes(r)){_.push(t);break}}}),_):this.props.modelList}},{key:"addNewModelTag",value:function(e){e.preventDefault();var _=e.target.elements.tag,t=_.value,a=this.state.tagsNewModel;t&&(this.state.tagsNewModel.includes(t)||a.push(t),this.setState({tagsNewModel:_toConsumableArray(a),tagNewModel:""}),_.focus())}},{key:"render",value:function(){var e=this,_=this.props.classes;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section",{className:"admin-panel"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-admin-panel-header"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-tag-list"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14___default.a,{key:"clear-active-tags",label:"Reset Filter",className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.chip,"model-tag selected"),color:"secondary",onDelete:function(){},deleteIcon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_19___default.a,null),onClick:function(_){return e.props.clearActiveTags()}}),this.getTagList().map(function(t,a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14___default.a,{key:t+a,label:t,className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.chip,"model-tag ".concat(e.props.activeTags.includes(t)?"selected":"")),color:e.props.activeTags.includes(t)?"primary":"default",onDelete:function(){},deleteIcon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Done__WEBPACK_IMPORTED_MODULE_20___default.a,null),onClick:function(_){return e.props.toggleActiveTag(t)}})})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-loadbtn-model"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",color:"primary",className:_.button,onClick:function(){return e.handleClickOpen()}},"Load model"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_15___default.a,{className:"wrap-modal",open:this.state.isModalOpen,onClose:function(){return e.handleClose()}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_17___default.a,{className:_.uploadModalTitle},"Upload model"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_16___default.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7___default.a,{label:"Model name*",className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.textField,_.modelName,_.w100p),margin:"dense",value:this.state.uploadModelName,onChange:function(_){return e.setState({uploadModelName:_.target.value})}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_4__.a,{onDrop:this.onDrop.bind(this),className:"dropzone"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{ref:function(_){return e.wrapFileNames=_},className:"dropzone-text"},"Drop files here or click to upload.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-tag-list"},this.state.tagsNewModel.map(function(t,a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14___default.a,{key:t+a,label:t,className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.chip,"model-tag selected"),color:"primary",onDelete:function(){},deleteIcon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_19___default.a,null),onClick:function(_){return e.setState({tagsNewModel:e.state.tagsNewModel.filter(function(e){return e!=t})})}})})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{className:"add-model-tag",onSubmit:function(_){return e.addNewModelTag(_)}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7___default.a,{label:"Enter model tag",className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.textField,_.modelName,_.w100p),name:"tag",margin:"dense",value:this.state.tagNewModel,onChange:function(_){return e.setState({tagNewModel:_.target.value})}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",type:"submit",size:"small",color:"primary",className:_.button},"Add")),e.state.uploadModelName&&e.uploadModelFiles.length?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",color:"primary",className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.button,_.btnUploadModel),onClick:function(){return e.uploadModel()}},"Upload & edit",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_21___default.a,{className:_.rightIcon})):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",color:"primary",disabled:!0,className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.button,_.btnUploadModel),onClick:function(){return e.uploadModel()}},"Upload & edit",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_21___default.a,{className:_.rightIcon})))))),this.activeModelList().length?"":react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"Model list is empty"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12___default.a,{className:"wrap-table-list"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_8___default.a,{className:"model-list"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_9___default.a,null,this.activeModelList().map(function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_11___default.a,{key:t._id},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10___default.a,{component:"th",scope:"row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,t.name),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-tag-list"},t.tags.map(function(e,a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_14___default.a,{key:t._id+a,label:e,className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.chip,"model-tag selected"),color:"primary"})}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10___default.a,{className:"small-t_cell"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",size:"small",className:_.button,onClick:function(){return e.onCopyLink(t._id)}},"Copy link")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10___default.a,{className:"small-t_cell"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.a,{to:"".concat(_assets_js_utils__WEBPACK_IMPORTED_MODULE_24__.b(),"/admin_panel/").concat(t._id),className:_.noTextDecor},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",color:"primary",size:"small",className:_.button},"Edit"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_10___default.a,{className:"small-t_cell"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13___default.a,{variant:"contained",color:"secondary",size:"small",className:_.button,onClick:function(){return e.props.deleteModel(t._id)}},"Delete",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_18___default.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.rightIcon,_.iconSmall)}))))})))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModelList}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),_default=Object(redux__WEBPACK_IMPORTED_MODULE_3__.compose)(Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.b)(function(e){return{modelList:e.modelList,activeTags:e.activeTags}},function(e){return{initModelList:function(){fetch("".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_22__.apiPrefix,":").concat(_config_config_json__WEBPACK_IMPORTED_MODULE_22__.serverPort,"/getModel3DList"),{method:"GET",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"},cache:"default"}).then(function(e){if(200==e.status)return e.json()}).then(function(_){_.forEach(function(e){e.preview=new Image,e.preview.src="".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_22__.apiPrefix+":"+_config_config_json__WEBPACK_IMPORTED_MODULE_22__.serverPort+_config_config_json__WEBPACK_IMPORTED_MODULE_22__.model3DStore+e._id,"/preview.jpeg")}),e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_23__.a.INIT_MODEL_LIST,payload:_})}).catch(function(e){console.log("reject",e)})},deleteModel:function(_){var t={method:"POST",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({modelId:_})};fetch("".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_22__.apiPrefix,":").concat(_config_config_json__WEBPACK_IMPORTED_MODULE_22__.serverPort,"/removeModel/"),t).then(function(e){if(200==e.status)return e.json()}).then(function(t){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_23__.a.DELETE_MODEL,payload:_})}).catch(function(e){console.log("reject",e)})},initCurrModel:function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_23__.a.INIT_CURR_MODEL,payload:_})},toggleActiveTag:function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_23__.a.TOGGLE_ACTIVE_TAG,payload:_})},clearActiveTags:function(){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_23__.a.CLEAR_ACTIVE_TAGS})}}}),Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__.withStyles)(styles))(ModelList);__webpack_exports__.a=_default,function(){var e=__webpack_require__(6).default,_=__webpack_require__(6).leaveModule;e&&(e.register(styles,"styles","D:\\Projects\\viz360\\app\\components\\ModelList\\index.js"),e.register(ModelList,"ModelList","D:\\Projects\\viz360\\app\\components\\ModelList\\index.js"),e.register(_default,"default","D:\\Projects\\viz360\\app\\components\\ModelList\\index.js"),_(module))}()}).call(this,__webpack_require__(20)(module))},122:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(139),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29),redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23),file_saver__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(304),file_saver__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6__),_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77),_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_7__),_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(124),_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_8__),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9__),_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(33),_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_10__),_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(127),_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_11__),_material_ui_lab_Slider__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(123),_material_ui_lab_Slider__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_material_ui_lab_Slider__WEBPACK_IMPORTED_MODULE_12__),_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(125),_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_13__),_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(126),_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_14__),_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(39),_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15__),_viewer_index__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(17),_config_config_json__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(8),_config_config_json__WEBPACK_IMPORTED_MODULE_17___namespace=__webpack_require__.t(8,1),_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(10),_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(31),_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_19__);function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var _=0,t=new Array(e.length);_<e.length;_++)t[_]=e[_];return t}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var a=_[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?_assertThisInitialized(e):_}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&_setPrototypeOf(e,_)}function _setPrototypeOf(e,_){return(_setPrototypeOf=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}!function(){var e=__webpack_require__(6).enterModule;e&&e(module)}();var styles=function(e){return{button:{margin:e.spacing.unit},chip:{margin:4,padding:"5px 0",height:"auto"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},modelName:{marginTop:0,marginBottom:10},w100p:{marginLeft:0,marginRight:0,width:"100%"},uploadModalTitle:{paddingBottom:15},btnUploadModel:{margin:"20px auto -7px",display:"flex"}}},MegaSlider=function(_React$Component){function MegaSlider(){return _classCallCheck(this,MegaSlider),_possibleConstructorReturn(this,_getPrototypeOf(MegaSlider).apply(this,arguments))}return _inherits(MegaSlider,_React$Component),_createClass(MegaSlider,[{key:"render",value:function(){var e=this,_=this.props,t=_.el,a=_.valName,r=_.min,n=_.max,o=t[a]?t[a]:0;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"setng-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"stngs-name"},"".concat(a,":")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_lab_Slider__WEBPACK_IMPORTED_MODULE_12___default.a,{value:o,min:r,max:n,onChange:function(_,r){var n=t[a]/r;t[a]=r,e.forceUpdate(),"fov"===a&&(t.position.multiplyScalar(n),t.updateProjectionMatrix(),_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.scaleTransformControls())}}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MegaSlider}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),ModelEditor=function(_React$Component2){function ModelEditor(e){var _;return _classCallCheck(this,ModelEditor),(_=_possibleConstructorReturn(this,_getPrototypeOf(ModelEditor).call(this,e))).model={},_.state={lightObjects:[],meshObjects:[],showAppMesg:!1,newTagCurrModel:""},_.loaderFBX=new THREE.FBXLoader,_.loaderOBJ=new THREE.OBJLoader,_.loaderObject=new THREE.ObjectLoader,_.getCurrModel(),_.handleCanvasContainer=function(e){return _.canvasContainer=e},_}return _inherits(ModelEditor,_React$Component2),_createClass(ModelEditor,[{key:"getCurrModel",value:function(){var e=location.pathname.lastIndexOf("/"),_=location.pathname.substring(e+1);this.props.currModel.url?this.loadModel(this.props.currModel.url):this.props.initCurrModel(_)}},{key:"loadModel",value:function(e){var _=this;if(!e){var t="".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_17__.apiPrefix+":"+_config_config_json__WEBPACK_IMPORTED_MODULE_17__.serverPort+_config_config_json__WEBPACK_IMPORTED_MODULE_17__.model3DStore+this.props.currModel._id,"/preview.jpeg");location.pathname.substr(location.pathname.lastIndexOf("/")+1);fetch(t,{cache:"no-cache"}),document.getElementById("preloader").classList.remove("hide"),document.getElementById("preloader").style["background-image"]="url(".concat(t,")"),document.getElementById("preloader-bg").src=t}var a=e||_config_config_json__WEBPACK_IMPORTED_MODULE_17__.apiPrefix+":"+_config_config_json__WEBPACK_IMPORTED_MODULE_17__.serverPort+_config_config_json__WEBPACK_IMPORTED_MODULE_17__.model3DStore+this.props.currModel._id+"/model.json";_config_config_json__WEBPACK_IMPORTED_MODULE_17__.apiPrefix,_config_config_json__WEBPACK_IMPORTED_MODULE_17__.serverPort,_config_config_json__WEBPACK_IMPORTED_MODULE_17__.model3DStore,location.pathname.substr(location.pathname.lastIndexOf("/")+1);this.loaderObject.load(a,function(e){_.model=e,_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.addModelToScene(_.model);var t=[],a=[];_.model.traverse(function(e){e.type.includes("Light")?t.push(e):e.type.includes("Mesh")&&a.push(e),e.type.includes("PointLight")&&_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.addLightHelper(e)}),_.setState({lightObjects:t,meshObjects:a}),document.getElementById("preloader").classList.add("hide")},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened ",e)})}},{key:"removeTexture",value:function(e,_,t,a){console.log("event.target",e.target),e.target.previousSibling.children[0].value="",e.target.previousSibling.children[0].type="",e.target.previousSibling.children[0].type="file",_[t]&&_[t].dispose(),_[t]=null,_.needsUpdate=!0,a.style["background-image"]="",document.getElementById("preloader-bg").src=""}},{key:"loadTexture",value:function(e,_,t){var a=e.target,r=new FileReader;if("envMap"==t){new THREE.CubeTextureLoader;var n=[],o=!0,i=!1,l=void 0;try{for(var c,s=e.target.files[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;n.push(window.URL.createObjectURL(new Blob([u],{type:"octet/stream"})))}}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}var E=(new THREE.TextureLoader).load(n[0]);E.mapping=THREE.SphericalReflectionMapping,_[t]=E,_[t].needsUpdate=!0,_.needsUpdate=!0,a.parentElement.style["background-image"]="url(".concat(n[0],")")}else r.onload=function(e){var r=new Image;r.src=e.target.result;var n=new THREE.Texture;n.image=r,n.minFilter=THREE.LinearFilter,n.magFilter=THREE.LinearFilter,_[t]&&_[t].dispose(),_[t]=n,r.onload=function(){n.needsUpdate=!0,_.needsUpdate=!0,a.parentElement.style["background-image"]="url(".concat(e.target.result,")")}},console.log("event.target.files[0]",e.target.files[0]),e.target.files[0]&&r.readAsDataURL(e.target.files[0])}},{key:"renderStgsItem",value:function(e){var _=this,t=function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"setng-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"stngs-name"},"".concat(t,":")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"color",value:"#".concat(e[t].getHexString()),onChange:function(a){e[t].setStyle(a.target.value),_.forceUpdate()}}))},a=function(e,_,t,a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MegaSlider,{el:e,valName:_,min:t,max:a})},r=function(e,t){var a=e.material?e.material:e,r={};if(a[t]&&a[t].image){var n=a[t].image.length?a[t].image[0].src:a[t].image.src;r.backgroundImage="url(".concat(n,")")}var o=null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"setng-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"stngs-name"},"".concat(t,":")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-texture-stng"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"texture-preview",ref:function(e){return o=e},style:r},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"file",onChange:function(e){return _.loadTexture(e,a,t)},multiple:!0})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default.a,{className:"btn-remove-texture small",variant:"contained",color:"primary",onClick:function(e){return _.removeTexture(e,a,t,o)}},"Del")))};if(e.type.includes("Scene"))return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:e.uuid,className:"wrap-stgs-item"},t(e,"background"));if(e.type.includes("Camera"))return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:e.uuid,className:"wrap-stgs-item"},a(e,"fov",10,100));if(e.type.includes("Light"))return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:e.uuid,className:"wrap-stgs-item"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-stng-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"stngs-name",onClick:function(){return _viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.transformControlsAttach(e)}},e.type),e.type.includes("PointLight")?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15___default.a,{onClick:function(){return _.removeLight(e)}}):""),t(e,"color"),a(e,"intensity",.001,5),e.distance?a(e,"distance",0,800):"");if(e.type.includes("Mesh")){if(e.material.length){var n=[];return n.push(e.material.map(function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:e.uuid,className:"wrap-stgs-item"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-stng-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"stngs-name"},e.type)),t(e,"color"),t(e,"emissive"),t(e,"specular"),a(e,"shininess",0,100),r(e,"map"),r(e,"specularMap"),r(e,"normalMap"),r(e,"envMap"),a(e,"reflectivity",0,1),r(e,"aoMap"),a(e,"aoMapIntensity",0,1))})),n}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:e.material.uuid,className:"wrap-stgs-item"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-stng-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"stngs-name"},e.material.type)),t(e.material,"color"),t(e.material,"emissive"),t(e.material,"specular"),a(e.material,"shininess",0,100),r(e.material,"map"),r(e.material,"specularMap"),r(e.material,"normalMap"),r(e.material,"envMap"),a(e.material,"reflectivity",0,1),r(e.material,"aoMap"),a(e.material,"aoMapIntensity",0,1))}return""}},{key:"removeLight",value:function(e){var _=this.state.lightObjects.filter(function(_){return _.uuid!=e.uuid});_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.removeLight(e),this.setState({lightObjects:_})}},{key:"componentDidMount",value:function(){_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.attach(this.canvasContainer)}},{key:"componentDidUpdate",value:function(e){if(!this.state.lightObjects.length){var _=this.props.currModel.url?this.props.currModel.url:null;this.loadModel(_)}}},{key:"componentWillUnmount",value:function(){this.props.clearCurrModel(),_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.detach(this.canvasContainer),document.getElementById("preloader").style["background-image"]="",document.getElementById("preloader-bg").src=""}},{key:"saveModel",value:function(){var e=this;_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.hideHelpElements(),setTimeout(function(){e.model.remove(e.model.getObjectByName("PerspectiveCamera")),e.model.children.push(_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.camera),e.model.userData.bg=_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.scene.background;var _=e.model.toJSON(),t=new Blob([JSON.stringify(_)],{type:"octet/stream"});e.canvasContainer.style["background-image"]="url(".concat(_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.getPreviewImg(),")"),_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.renderer.domElement.classList.add("fullscreen"),_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.updateCanvasSizeDimensions(),_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.hideHelpElements();var a=_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.getPreviewImg(),r=new FormData;r.append("model",JSON.stringify(e.props.currModel)),r.append("file",t),r.append("filePreview",a),document.getElementById("preloader").classList.remove("hide"),document.getElementById("preloader").style["background-image"]="url(".concat(a,")"),document.getElementById("preloader-bg").src=a,_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.renderer.domElement.classList.remove("fullscreen"),setTimeout(function(){return _viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.updateCanvasSizeDimensions()},2);var n=e.props.currModel._id?"saveModel":"uploadModel";fetch("".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_17__.apiPrefix,":").concat(_config_config_json__WEBPACK_IMPORTED_MODULE_17__.serverPort,"/").concat(n),{method:"POST",contentType:!1,body:r}).then(function(e){if(200==e.status)return document.getElementById("preloader").classList.add("hide"),e.json()}).then(function(_){console.log("savedCurrModel",_),"uploadModel"==n&&e.props.updateCurrModel(_),e.setState({showAppMesg:!0})}).catch(function(e){return console.log(e)})},30)}},{key:"addPonterLight",value:function(){var e=new THREE.PointLight(16777215,1.7,800);e.name="PointLight";var _={x:201*Math.random()-100,y:120,z:201*Math.random()-100};e.position.set(_.x,_.y,_.z),this.model.add(e),_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.addLightHelper(e),this.setState({lightObjects:_toConsumableArray(this.state.lightObjects).concat([e])})}},{key:"addNewTagCurrModel",value:function(e){e.preventDefault();var _=e.target.elements.tag;this.state.newTagCurrModel&&(this.props.addModelTag(this.state.newTagCurrModel),this.setState({newTagCurrModel:""})),_.focus()}},{key:"render",value:function(){var e=this,_=this.props.classes;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section",{className:"wrap-editor ".concat(this.props.currModel.name?"":"hide")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_7___default.a,{className:"settings-panel"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_8___default.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-settings-top-btn"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.a,{to:"/admin_panel"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default.a,{variant:"contained"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_13___default.a,{style:{marginRight:5}}),"Admin panel")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default.a,{variant:"contained",color:"primary",onClick:function(){return e.saveModel()}},"Save",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_14___default.a,{style:{marginLeft:5}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_11___default.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showAppMesg,autoHideDuration:4e3,onClose:function(){return e.setState({showAppMesg:!1})},message:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"Model saved")})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-settings"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-stgs-item"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default.a,{variant:"contained",color:"primary",onClick:function(){return _viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.resetCameraPos()}}," Reset camera ")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6___default.a,{label:"Model name*",className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.textField,_.modelName,_.w100p),name:"model-name",margin:"dense",value:this.props.currModel.name||"",onChange:function(_){return e.props.setCurrModelName(_.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-settings-model-tags"},this.props.currModel.tags&&this.props.currModel.tags.map(function(t,a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_10___default.a,{key:t+a,label:t,className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.chip,"model-tag selected"),color:"primary",onDelete:function(){},deleteIcon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15___default.a,null),onClick:function(){return e.props.removeModelTag(t)}})})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{className:"add-model-tag",onSubmit:function(_){return e.addNewTagCurrModel(_)}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6___default.a,{label:"Enter model tag",className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_.textField,_.modelName,_.w100p),name:"tag",margin:"dense",value:this.state.newTagCurrModel,onChange:function(_){return e.setState({newTagCurrModel:_.target.value})}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default.a,{variant:"contained",type:"submit",size:"small",color:"primary",className:_.button},"Add")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-stgs-controls"},this.renderStgsItem(_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.camera),this.renderStgsItem(_viewer_index__WEBPACK_IMPORTED_MODULE_16__.a.scene),this.state.lightObjects.length?this.state.lightObjects.map(function(_){return e.renderStgsItem(_)}):"",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrap-stgs-item"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default.a,{variant:"contained",color:"primary",onClick:function(){return e.addPonterLight()}},"Add PointerLight")),this.state.meshObjects.length?this.state.meshObjects.map(function(_){return e.renderStgsItem(_)}):"")))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_7___default.a,{style:{width:"100%"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:this.handleCanvasContainer,className:"wrap-viewer"})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModelEditor}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),_default=Object(redux__WEBPACK_IMPORTED_MODULE_3__.compose)(Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.b)(function(e){return{modelList:e.modelList,currModel:e.currModel}},function(e){return{initCurrModel:function(_){var t={method:"POST",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({modelId:_})};fetch("".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_17__.apiPrefix,":").concat(_config_config_json__WEBPACK_IMPORTED_MODULE_17__.serverPort,"/getModel/"),t).then(function(e){if(200==e.status)return e.json()}).then(function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__.a.INIT_CURR_MODEL,payload:_})}).catch(function(e){console.log("reject",e)})},clearCurrModel:function(){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__.a.CLEAR_CURR_MODEL})},updateCurrModel:function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__.a.INIT_CURR_MODEL,payload:_})},setCurrModelName:function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__.a.SET_CURR_MODEL_NAME,payload:_})},addModelTag:function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__.a.ADD_TAG_CURR_MODEL,payload:_})},removeModelTag:function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_18__.a.REMOVE_TAG_CURR_MODEL,payload:_})}}}),Object(_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_19__.withStyles)(styles))(ModelEditor);__webpack_exports__.a=_default,function(){var e=__webpack_require__(6).default,_=__webpack_require__(6).leaveModule;e&&(e.register(styles,"styles","D:\\Projects\\viz360\\app\\components\\ModelEditor\\index.js"),e.register(MegaSlider,"MegaSlider","D:\\Projects\\viz360\\app\\components\\ModelEditor\\index.js"),e.register(ModelEditor,"ModelEditor","D:\\Projects\\viz360\\app\\components\\ModelEditor\\index.js"),e.register(_default,"default","D:\\Projects\\viz360\\app\\components\\ModelEditor\\index.js"),_(module))}()}).call(this,__webpack_require__(20)(module))},128:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29),redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23),_viewer_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_config_config_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_config_config_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t(8,1),_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_6__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var a=_[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?_assertThisInitialized(e):_}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&_setPrototypeOf(e,_)}function _setPrototypeOf(e,_){return(_setPrototypeOf=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}!function(){var e=__webpack_require__(6).enterModule;e&&e(module)}();var styles=function(e){return{chip:{margin:4,padding:"5px 0",height:"auto"}}},ModelViewer=function(_React$Component){function ModelViewer(e){var _;return _classCallCheck(this,ModelViewer),(_=_possibleConstructorReturn(this,_getPrototypeOf(ModelViewer).call(this,e))).model={},_.state={isLoaded:!1},_.loaderObject=new THREE.ObjectLoader,_.getCurrModel(),_.handleCanvasContainer=function(e){return _.canvasContainer=e},_}return _inherits(ModelViewer,_React$Component),_createClass(ModelViewer,[{key:"getCurrModel",value:function(){var e=location.pathname.lastIndexOf("/"),_=location.pathname.substring(e+1);this.props.currModel.url?this.loadModel(this.props.currModel.url,!0):this.props.initCurrModel(_)}},{key:"loadModel",value:function(e){var _=this,t="".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_4__.apiPrefix+":"+_config_config_json__WEBPACK_IMPORTED_MODULE_4__.serverPort+_config_config_json__WEBPACK_IMPORTED_MODULE_4__.model3DStore+this.props.currModel._id,"/preview.jpeg");document.getElementById("preloader").classList.remove("hide"),document.getElementById("preloader").style["background-image"]="url(".concat(t,")");var a=_config_config_json__WEBPACK_IMPORTED_MODULE_4__.apiPrefix+":"+_config_config_json__WEBPACK_IMPORTED_MODULE_4__.serverPort+_config_config_json__WEBPACK_IMPORTED_MODULE_4__.model3DStore+this.props.currModel._id+"/model.json";this.loaderObject.load(a,function(e){_.model=e,_viewer_index__WEBPACK_IMPORTED_MODULE_3__.a.addModelToScene(_.model,"viewer"),document.getElementById("preloader").classList.add("hide")},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened ",e)})}},{key:"componentDidMount",value:function(){_viewer_index__WEBPACK_IMPORTED_MODULE_3__.a.attach(this.canvasContainer)}},{key:"componentDidUpdate",value:function(e){this.state.isLoaded||(this.loadModel(this.props.currModel.url),this.setState({isLoaded:!0}))}},{key:"componentWillUnmount",value:function(){this.props.clearCurrModel(),_viewer_index__WEBPACK_IMPORTED_MODULE_3__.a.detach(this.canvasContainer)}},{key:"render",value:function(){this.props.classes;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section",{className:"wrap-editor"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:this.handleCanvasContainer,className:"wrap-viewer"}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModelViewer}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),_default=Object(redux__WEBPACK_IMPORTED_MODULE_2__.compose)(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.b)(function(e){return{currModel:e.currModel}},function(e){return{initCurrModel:function(_){var t={method:"POST",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify({modelId:_})};fetch("".concat(_config_config_json__WEBPACK_IMPORTED_MODULE_4__.apiPrefix,":").concat(_config_config_json__WEBPACK_IMPORTED_MODULE_4__.serverPort,"/getModel/"),t).then(function(e){if(200==e.status)return e.json()}).then(function(_){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_5__.a.INIT_CURR_MODEL,payload:_})}).catch(function(e){console.log("reject",e)})},clearCurrModel:function(){e({type:_redux_constants_actionTypes__WEBPACK_IMPORTED_MODULE_5__.a.CLEAR_CURR_MODEL})}}}),Object(_material_ui_core_styles_index__WEBPACK_IMPORTED_MODULE_6__.withStyles)(styles))(ModelViewer);__webpack_exports__.a=_default,function(){var e=__webpack_require__(6).default,_=__webpack_require__(6).leaveModule;e&&(e.register(styles,"styles","D:\\Projects\\viz360\\app\\components\\ModelViewer\\index.js"),e.register(ModelViewer,"ModelViewer","D:\\Projects\\viz360\\app\\components\\ModelViewer\\index.js"),e.register(_default,"default","D:\\Projects\\viz360\\app\\components\\ModelViewer\\index.js"),_(module))}()}).call(this,__webpack_require__(20)(module))},130:function(e,_,t){"use strict";(function(e){var a=t(23),r=t(131),n=t(132);!function(){var _=t(6).enterModule;_&&_(e)}();var o={modelList:[],currModel:[],activeTags:[]},i=Object(a.createStore)(n.a,o,Object(r.composeWithDevTools)()),l=i;_.a=l,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(o,"initialState","D:\\Projects\\viz360\\app\\redux\\store.js"),_.register(i,"store","D:\\Projects\\viz360\\app\\redux\\store.js"),_.register(l,"default","D:\\Projects\\viz360\\app\\redux\\store.js"),a(e))}()}).call(this,t(20)(e))},132:function(e,_,t){"use strict";(function(e){var a=t(23),r=t(133),n=t(134),o=t(135);!function(){var _=t(6).enterModule;_&&_(e)}();var i=Object(a.combineReducers)({modelList:r.a,currModel:n.a,activeTags:o.a});_.a=i,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(i,"default","D:\\Projects\\viz360\\app\\redux\\reducers\\index.js"),a(e))}()}).call(this,t(20)(e))},133:function(e,_,t){"use strict";(function(e){var a=t(10);function r(e){return function(e){if(Array.isArray(e)){for(var _=0,t=new Array(e.length);_<e.length;_++)t[_]=e[_];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(){var _=t(6).enterModule;_&&_(e)}();var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_=arguments.length>1?arguments[1]:void 0;switch(_.type){case a.a.INIT_MODEL_LIST:return _.payload||e;case a.a.DELETE_MODEL:var t=_.payload;return r(e.filter(function(e){return e._id!=t}));default:return e}};_.a=n,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(n,"default","D:\\Projects\\viz360\\app\\redux\\reducers\\modelList.js"),a(e))}()}).call(this,t(20)(e))},134:function(e,_,t){"use strict";(function(e){var a=t(10);function r(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(_){n(e,_,t[_])})}return e}function n(e,_,t){return _ in e?Object.defineProperty(e,_,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[_]=t,e}!function(){var _=t(6).enterModule;_&&_(e)}();var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_=arguments.length>1?arguments[1]:void 0;switch(_.type){case a.a.INIT_CURR_MODEL:return _.payload||e;case a.a.ADD_TAG_CURR_MODEL:var t=_.payload,n=e;return n.tags.includes(t)||n.tags.push(t),r({},n);case a.a.REMOVE_TAG_CURR_MODEL:var o=_.payload,i=e;return i.tags=i.tags.filter(function(e){return e!=o}),r({},i);case a.a.SET_CURR_MODEL_NAME:var l=_.payload,c=r({},e);return c.name=l,c;case a.a.CLEAR_CURR_MODEL:return{};default:return e}};_.a=o,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(o,"default","D:\\Projects\\viz360\\app\\redux\\reducers\\currModel.js"),a(e))}()}).call(this,t(20)(e))},135:function(e,_,t){"use strict";(function(e){var a=t(10);function r(e){return function(e){if(Array.isArray(e)){for(var _=0,t=new Array(e.length);_<e.length;_++)t[_]=e[_];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(){var _=t(6).enterModule;_&&_(e)}();var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1?arguments[1]:void 0;switch(_.type){case a.a.ADD_ACTIVE_TAG:return r(e).concat([_.type]);case a.a.DEL_ACTIVE_TAG:return r(e.filter(function(e){return e!=_.type}));case a.a.TOGGLE_ACTIVE_TAG:var t=_.payload;return e.includes(t)?e.filter(function(e){return e!=t}):r(e).concat([t]);case a.a.CLEAR_ACTIVE_TAGS:return[];default:return e}};_.a=n,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(n,"default","D:\\Projects\\viz360\\app\\redux\\reducers\\activeTags.js"),a(e))}()}).call(this,t(20)(e))},137:function(e,_,t){"use strict";(function(e){var a=t(0),r=t.n(a),n=t(140),o=t(141),i=t(47),l=t(45);!function(){var _=t(6).enterModule;_&&_(e)}();var c=function(){return r.a.createElement(n.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{path:"/",component:l.a,exact:!0}),r.a.createElement(i.a,{path:"/:id",component:l.a,exact:!0})))},s=c;_.a=s,function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(c,"Root","D:\\Projects\\viz360\\app\\config\\Root.js"),_.register(s,"default","D:\\Projects\\viz360\\app\\config\\Root.js"),a(e))}()}).call(this,t(20)(e))},142:function(e,_,t){t(143),e.exports=t(318)},143:function(e,_,t){"use strict";t.r(_),function(e){var _=t(0),a=t.n(_),r=t(21),n=t.n(r),o=t(45),i=t(137);!function(){var _=t(6).enterModule;_&&_(e)}();var l=function(e){n.a.render(a.a.createElement(o.a,null),document.getElementById("root"))};document.addEventListener("DOMContentLoaded",function(){return l(i.a)}),function(){var _=t(6).default,a=t(6).leaveModule;_&&(_.register(l,"render","D:\\Projects\\viz360\\app\\main.js"),a(e))}()}.call(this,t(20)(e))},17:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62),_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__);function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var a=_[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}!function(){var e=__webpack_require__(6).enterModule;e&&e(module)}();var Viewer=function(){function Viewer(){_classCallCheck(this,Viewer),window.scene=this.scene=new THREE.Scene,this.scene.background=new THREE.Color(16185078),this.defaultCamera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e5),this.defaultCamera.name="PerspectiveCamera",this.defaultCamera.position.set(100,200,300),this.camera=this.defaultCamera.clone(),this.scene.add(this.camera),this.groupLightHelpers=new THREE.Group,this.groupLightHelpers.name="GroupLightHelpers",this.scene.add(this.groupLightHelpers),this.renderer=new THREE.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}),this.orbitControls=new THREE.OrbitControls(this.defaultCamera.clone(),this.renderer.domElement),this.orbitControls.screenSpacePanning=!0,this.orbitControls.enableDamping=!0,this.orbitControls.dampingFactor=.12,this.orbitControls.panSpeed=.07,this.orbitControls.rotateSpeed=.1,this.transformControls=new THREE.TransformControls(this.camera,this.renderer.domElement),this.transformControls.name="TransformControls",this.transformControls.setSpace("local"),this.scene.add(this.transformControls),this.raycaster=new THREE.Raycaster,this.initEvents(),this.controlsChaned=!1,this.viewType=null}return _createClass(Viewer,[{key:"initEvents",value:function(){var e=this;this.transformControls.addEventListener("dragging-changed",function(_){e.orbitControls.enabled=!_.value}),this.transformControls.addEventListener("change",function(){e.controlsChaned=!0,e.scaleTransformControls()}),this.orbitControls.addEventListener("change",function(){return e.controlsChaned=!0}),document.addEventListener("mousedown",function(){return e.controlsChaned=!1}),document.addEventListener("mouseup",function(_){return e.onMouseup(_)}),window.addEventListener("resize",function(){return e.updateDimensions()})}},{key:"scaleTransformControls",value:function(e){var _=e||this.camera.fov/45;this.transformControls.scale.set(_,_,_)}},{key:"onMouseup",value:function(e){if(e.target===this.renderer.domElement&&!this.controlsChaned&&!this.viewType){var _=new THREE.Vector2;_.x=e.layerX/this.renderer.domElement.offsetWidth*2-1,_.y=-e.layerY/this.renderer.domElement.offsetHeight*2+1,this.raycaster.setFromCamera(_,this.camera);var t=this.raycaster.intersectObjects(this.groupLightHelpers.children);if(t.length)this.transformControls.attach(t[0].object.light),this.transformControls.setMode("translate");else{var a=[];if(this.model&&(a=this.raycaster.intersectObjects(this.model.getObjectByName("MeshList").children)),a.length)this.transformControls.attach(this.model.children[0]),this.transformControls.setMode("rotate");else{var r=this.transformControls.children[0].children[3].children;this.raycaster.intersectObjects(r).length||this.transformControls.detach()}}}}},{key:"transformControlsAttach",value:function(e){e.isAmbientLight||(this.transformControls.attach(e),e.isLight&&this.transformControls.setMode("translate"),e.isMesh&&this.transformControls.setMode("rotate"))}},{key:"addModelToScene",value:function(e,_){this.model=e,this.scene.background.setHex(this.model.userData.bg);var t=this.model.getObjectByName("PerspectiveCamera");if(t)this.camera=t.clone();else{this.camera=this.defaultCamera.clone();var a=new THREE.Group;this.model.traverse(function(e){e.isMesh&&a.add(e.clone())});var r=(new THREE.Box3).setFromObject(a);this.camera.position.copy(r.max.clone().multiplyScalar(6)),this.camera.position.setY(this.camera.position.y/5)}this.transformControls.camera=this.camera,this.orbitControls.object=this.camera,this.orbitControls.update(),this.updateDimensions(),this.scene.add(this.model),this.viewType=_;var n=new THREE.Group;this.model.children.forEach(function(e){e.isCamera||n.add(e.clone())});var o=(new THREE.Box3).setFromObject(this.model),i=new THREE.Vector3;o.getCenter(i),this.model.position.sub(i),this.model.updateMatrix()}},{key:"resetCameraPos",value:function(){var e=this,_=new THREE.Group;this.model.traverse(function(e){e.isMesh&&_.add(e.clone())});var t=(new THREE.Box3).setFromObject(_),a=this.camera.position.clone(),r=t.max.clone().multiplyScalar(6);r.setY(r.y/5),r.multiplyScalar(45/this.camera.fov),new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0___default.a.Tween({alpha:0}).to({alpha:1},a.distanceTo(r)).onStart(function(){return e.orbitControls.enabled=!1}).onUpdate(function(_){var t=_.alpha;e.orbitControls.object.position.copy(a.clone().lerp(r,t)),e.orbitControls.object.lookAt(0,0,0),e.orbitControls.update()}).onComplete(function(){return e.orbitControls.enabled=!0}).easing(_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0___default.a.Easing.Sinusoidal.Out).start(),this.camera.lookAt(0,0,0),this.camera.updateMatrix()}},{key:"removeLight",value:function(e){var _=this.groupLightHelpers.children.find(function(_){return _.light&&_.light.uuid==e.uuid});this.groupLightHelpers.remove(_),this.model.remove(e)}},{key:"addLightHelper",value:function(e,_){var t=new THREE.PointLightHelper(e,3);t&&(t.name=_),this.groupLightHelpers.add(t)}},{key:"updateDimensions",value:function(){var e=this.renderer.domElement.parentElement;e&&(this.renderer.setSize(e.offsetWidth,e.offsetHeight),this.camera.aspect=e.offsetWidth/e.offsetHeight,this.camera.updateProjectionMatrix())}},{key:"animate",value:function(){var e=this;_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0___default.a.update(),this.orbitControls.update(),this.renderer.render(this.scene,this.camera),this.animationID=window.requestAnimationFrame(function(){return e.animate()})}},{key:"startAnimation",value:function(){this.animate()}},{key:"cancelAnimation",value:function(){window.cancelAnimationFrame(this.animationID),this.animationID=null}},{key:"attach",value:function(e){e.appendChild(this.renderer.domElement),this.updateDimensions(),this.startAnimation()}},{key:"hideHelpElements",value:function(){this.transformControls.detach(),this.scene.getObjectByName("GroupLightHelpers").visible=!1}},{key:"getPreviewImg",value:function(){var e=this,_=this.renderer.domElement.toDataURL("image/jpeg",1);return setTimeout(function(){return e.scene.getObjectByName("GroupLightHelpers").visible=!0},1),_}},{key:"updateCanvasSizeDimensions",value:function(){this.camera.aspect=this.renderer.domElement.offsetWidth/this.renderer.domElement.offsetHeight,this.camera.updateProjectionMatrix()}},{key:"detach",value:function(e){e.removeChild(this.renderer.domElement),this.cancelAnimation(),this.transformControls.detach(),this.scene.remove(this.scene.getObjectByName("Model3D")),this.groupLightHelpers.children=[]}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Viewer}(),viewer=new Viewer;window.v=viewer;var _default=viewer;__webpack_exports__.a=_default,function(){var e=__webpack_require__(6).default,_=__webpack_require__(6).leaveModule;e&&(e.register(Viewer,"Viewer","D:\\Projects\\viz360\\app\\components\\viewer\\index.js"),e.register(viewer,"viewer","D:\\Projects\\viz360\\app\\components\\viewer\\index.js"),e.register(_default,"default","D:\\Projects\\viz360\\app\\components\\viewer\\index.js"),_(module))}()}).call(this,__webpack_require__(20)(module))},318:function(e,_){},32:function(e,_,t){"use strict";(function(e){function a(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var _=document.createElement("textarea");_.textContent=e,_.style.position="fixed",document.body.appendChild(_),_.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(_)}}}function r(){var e=location.href.indexOf("/",9),_=location.href.lastIndexOf("/"),t=location.href.substr(e,_-e);return t.lastIndexOf("/")==t.length-"/admin_panel".length&&(t=t.substr(0,t.length-"/admin_panel".length)),t}function n(e){e=e.split("+").join(" ");for(var _,t={},a=/[?&]?([^=]+)=([^&]*)/g;_=a.exec(e);)t[decodeURIComponent(_[1])]="null"==decodeURIComponent(_[2])?null:decodeURIComponent(_[2]);return t}t.d(_,"a",function(){return a}),t.d(_,"b",function(){return r}),function(){var _=t(6).enterModule;_&&_(e)}(),function(){var _=t(6).default,o=t(6).leaveModule;_&&(_.register(a,"copyToClipboard","D:\\Projects\\viz360\\app\\assets\\js\\utils.js"),_.register(r,"getPrefixLink","D:\\Projects\\viz360\\app\\assets\\js\\utils.js"),_.register(n,"parseQueryString","D:\\Projects\\viz360\\app\\assets\\js\\utils.js"),o(e))}()}).call(this,t(20)(e))},45:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(140),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(141),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(47),_assets_js_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32),_config_config_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_config_config_json__WEBPACK_IMPORTED_MODULE_6___namespace=__webpack_require__.t(8,1),_ModelList__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(110),_ModelEditor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(122),_ModelViewer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(128),three_full__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(129),_redux_store__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(130);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var a=_[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?_assertThisInitialized(e):_}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&_setPrototypeOf(e,_)}function _setPrototypeOf(e,_){return(_setPrototypeOf=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}!function(){var e=__webpack_require__(6).enterModule;e&&e(module)}(),window.THREE=three_full__WEBPACK_IMPORTED_MODULE_10__;var App=function(_React$Component){function App(e){var _;return _classCallCheck(this,App),(_=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,e))).state={modelList:[]},_}return _inherits(App,_React$Component),_createClass(App,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.a,{store:_redux_store__WEBPACK_IMPORTED_MODULE_11__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"preloader",className:"wrap-reloader hide"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{id:"preloader-bg",className:"preloader-bg",src:"",alt:""}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"holder"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"circle-stripes-preloader"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null)))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.a,{exact:!0,path:"".concat(_assets_js_utils__WEBPACK_IMPORTED_MODULE_5__.b(),"/admin_panel"),component:_ModelList__WEBPACK_IMPORTED_MODULE_7__.a}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.a,{path:"".concat(_assets_js_utils__WEBPACK_IMPORTED_MODULE_5__.b(),"/admin_panel/:id"),component:_ModelEditor__WEBPACK_IMPORTED_MODULE_8__.a}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.a,{path:"".concat(_assets_js_utils__WEBPACK_IMPORTED_MODULE_5__.b(),"/:id"),component:_ModelViewer__WEBPACK_IMPORTED_MODULE_9__.a})))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),App}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),_default=App;__webpack_exports__.a=_default,function(){var e=__webpack_require__(6).default,_=__webpack_require__(6).leaveModule;e&&(e.register(App,"App","D:\\Projects\\viz360\\app\\components\\App.js"),e.register(_default,"default","D:\\Projects\\viz360\\app\\components\\App.js"),_(module))}()}).call(this,__webpack_require__(20)(module))},8:function(e){e.exports={apiPrefix:"http://54.93.252.93",apiPrefixLOCAL:"http://localhost",serverPort:"3010",getChannel:"channel",model3DStore:"/api/models3D/",db:{name:"managepasswords_db",host:"localhost",port:27017}}}});
//# sourceMappingURL=main.c41cc9904a5d87ccb57d.js.map